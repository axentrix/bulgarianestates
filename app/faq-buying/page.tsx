'use client'

import { useState } from 'react'

interface FAQItem {
  question: string
  answer: string
}

const faqItems: FAQItem[] = [
  { question: 'Документи за собственост на недвижимия имот. Видове документи.', answer: 'Най-често срещани документи за собственост са:\n- Нотариален акт вписан в Агенция по вписвания. Този документ има и няколко разновидности: нотариален акт за покупко-продажба; нотариален акт за дарение; нотариален акт за замяна; констативен нотариален акт и прочее.\n- Крепостен акт, към който има записка за вписването му;\n- Договор за продажба, сключен по реда на Наредбата за държавните имоти;\n- Договор за продажба, сключен по Закона за общинската собственост и Закона за държавната собственост на държавни или общински имоти. Ако са сключени след 01.06.1996 г. следва да бъдат вписани в Службата по вписванията.\n- Конститутивни съдебни решения (чл.19 ал.3 от ЗЗД, чл.33 от Закона за собствеността и чл.349 ГПК).' },
  { question: 'Как се проверява законността на акта за собственост?', answer: 'Проверка в Имотен регистър и при нотариус; най-надеждна е проверката в Имотен регистър.' },
  { question: 'Какви документи трябва да се представят от страна на купувача?', answer: 'Декларации за гражданство, декларация по ЗМИП, пълномощно при необходимост.' },
  { question: 'Какви документи следва да се предоставят от страна на продавача?', answer: 'Оригинал на документ за собственост, кадастрална схема, данъчна оценка, декларации и допълнителни документи при нужда.' },
  { question: 'Как може да сме сигурни, че купуваме имот без обременения?', answer: 'Получава се удостоверение за тежести/вписвания от Агенция по вписванията.' },
  { question: 'Как става прехвърлянето на недвижимия имот?', answer: 'Прехвърлянето се извършва пред нотариус, който извършва проверки и изповядва акта.' },
  { question: 'Какви са разходите за покупка на недвижим имот?', answer: 'Нотариална такса, такса вписване, данък при възмездно придобиване, адвокатско възнаграждение и др.' },
  { question: 'Кога ще получа документа си за собственост?', answer: 'След вписване в службата по вписвания – обикновено 3-4 работни дни.' },
  { question: 'Какво следва след като се закупи недвижимия имот?', answer: 'Деклариране в "Местни данъци и такси", прехвърляне на партиди и други обслужващи процедури.' },
  { question: 'Какви са възможните рискове?', answer: 'Тежести, неправилно определяне на наследници, фалшиви документи, възбрани и други.' }
]

export default function FAQBuyingPage() {
  const [openIndex, setOpenIndex] = useState<number | null>(null)

  const toggleFAQ = (index: number) => setOpenIndex(openIndex === index ? null : index)

  return (
    <div className="faq-buying-page">
      <section className="faq-buying-hero">
        <div className="property-viewing-hero-content">
          <h1 className="property-viewing-title">Съвети и отговори</h1>
          <img
            className="property-viewing-illustration"
            src="/images/ogledi.png"
            alt="Съвети и отговори"
          />
        </div>
      </section>

      <main className="faq-buying-content">
        <div className="faq-buying-intro-box">
          <div className="faq-buying-intro-header">
            <h2 className="faq-buying-intro-title">Най-важните въпроси при покупка на недвижим имот</h2>
            <p className="faq-buying-intro-text">Покупката на недвижим имот е сложен процес изискващ предварителна подготовка. Правилното му провеждане е гаранция за добрия резултат. В тази публикация ще разгледаме основните и най-важни въпроси при сделките с недвижими имоти.</p>
          </div>

          <div className="faq-buying-read-more">
            <h3 className="faq-buying-read-more-title">Прочетете още</h3>

            <div className="faq-buying-links">
              <a className="faq-buying-link" href="#procedure">
                <svg className="faq-link-icon" width="33" height="33" viewBox="0 0 33 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16.278 16.4134C17.6847 17.8201 19.538 19.2494 19.538 19.2494L22.078 16.7094C22.078 16.7094 20.6487 14.8561 19.242 13.4494C17.8353 12.0427 15.982 10.6134 15.982 10.6134L13.442 13.1534C13.442 13.1534 14.8713 15.0067 16.278 16.4134ZM16.278 16.4134L11.834 20.8574M22.5007 16.2854L19.114 19.6721M16.4073 10.1907L13.0207 13.5774" stroke="#299393" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                  <path d="M28.5 15.1014V11.2307C28.5 9.04406 28.5 7.95072 27.9613 7.23739C27.4227 6.52406 26.204 6.17872 23.768 5.48539C22.2987 5.0634 20.8602 4.54083 19.4627 3.92139C17.864 3.21206 17.0653 2.85739 16.5 2.85739C15.9347 2.85739 15.136 3.21206 13.5373 3.92139C12.364 4.44139 10.8973 5.01206 9.232 5.48539C6.796 6.17872 5.57867 6.52539 5.03867 7.23739C4.5 7.95072 4.5 9.04406 4.5 11.2307V15.1014C4.5 22.6014 11.2507 27.1014 14.6253 28.8827C15.4347 29.3094 15.8387 29.5241 16.5 29.5241C17.1613 29.5241 17.5653 29.3107 18.3747 28.8841C21.7493 27.1001 28.5 22.6014 28.5 15.1014Z" stroke="#299393" strokeWidth="2" strokeLinecap="round"/>
                </svg>
                <span>Процедура при покупка на недвижим имот</span>
              </a>

              <a className="faq-buying-link full-width" href="#costs">
                <svg className="faq-link-icon" width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4.13477 5.94824C7.11927 4.39824 10.9168 2.96824 14.4598 2.09674C15.4963 1.84174 16.5673 2.22524 17.1063 3.14624C17.4913 3.80424 17.9613 4.70624 18.4583 5.88524M15.0323 15.7522C15.0798 16.8172 15.9008 17.6107 16.9653 17.6532C17.5078 17.6752 18.1823 17.6907 19.0003 17.6907C19.8183 17.6907 20.4928 17.6752 21.0353 17.6532C22.1003 17.6107 22.9208 16.8172 22.9683 15.7522C22.9873 15.3187 23.0003 14.8002 23.0003 14.1907C23.0003 13.5812 22.9873 13.0627 22.9683 12.6292C22.9208 11.5642 22.0998 10.7707 21.0353 10.7282C20.3572 10.7022 19.6788 10.6897 19.0003 10.6907C18.1823 10.6907 17.5078 10.7062 16.9653 10.7282C15.9003 10.7707 15.0798 11.5642 15.0323 12.6292C15.0101 13.1494 14.9995 13.6701 15.0003 14.1907C15.0003 14.8007 15.0133 15.3187 15.0323 15.7522Z" stroke="#299393" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
                  <path d="M20.937 10.7242C20.9058 9.88796 20.857 9.05245 20.7905 8.21824C20.6865 6.94273 19.696 5.98323 18.4195 5.89473C16.9495 5.79273 14.6815 5.69073 11.5 5.69073C8.3185 5.69073 6.05 5.79273 4.58 5.89473C3.304 5.98273 2.3135 6.94273 2.2095 8.21824C2.102 9.53524 2 11.4972 2 14.1907C2 16.8842 2.102 18.8457 2.2095 20.1632C2.3135 21.4387 3.304 22.3982 4.5805 22.4867C6.05 22.5887 8.3185 22.6907 11.5 22.6907C14.6815 22.6907 16.95 22.5887 18.4195 22.4867C19.696 22.3987 20.6865 21.4387 20.7905 20.1632C20.845 19.4967 20.898 18.6652 20.937 17.6572M18.5 13.6907V14.6907" stroke="#299393" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
                </svg>
                <span>Разходи при покупка на недвижим имот</span>
              </a>
            </div>
          </div>
        </div>

        <div className="faq-list">
          {faqItems.map((item, index) => (
            <article key={index} className="faq-item">
              <button className="faq-question-button" onClick={() => toggleFAQ(index)} aria-expanded={openIndex === index}>
                <span className="faq-question-text">{item.question}</span>
                <svg className={`faq-icon ${openIndex === index ? 'open' : ''}`} width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19.5 13.1887H13.5V19.1887H11.5V13.1887H5.5V11.1887H11.5V5.18872H13.5V11.1887H19.5V13.1887Z" fill="#299393"/>
                </svg>
              </button>

              {openIndex === index && (
                <div className="faq-answer">
                  {item.answer.split('\n').map((p, i) => p.trim() ? <p key={i}>{p}</p> : null)}
                </div>
              )}
            </article>
          ))}
        </div>
      </main>
    </div>
  )
}
